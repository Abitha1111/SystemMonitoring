<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Summary</title>
    <link rel="stylesheet" href="ordersummary.css">
</head>
<body>
	
    <form action="Orders" method="post">
    <div id="summary">
		
        <h1>Order Summary</h1>
        <div id="selectedCake">
            <img id="cakeImage" src="" alt="">
            <h3 id="cakeName" name="cakeName"></h3>
            <h2 id="cakePrice" name="cakePrice" class="price"></h2>
        </div>
        <div>
            <label for="cakeWeight">Select Cake Weight (kg):</label>
            <select id="cakeWeight" name="cakeWeight">
                <option value="1">1 kg</option>
                <option value="2">2 kg</option>
                <option value="3">3 kg</option>
                <option value="5">5 kg</option>
                <!-- Add more options as needed -->
            </select>
        </div>
        <div>
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" placeholder="Enter your name">
        </div>
        <div>
            <label for="address">Address:</label>
            <input type="text" id="address" name="address" placeholder="Enter your address">
        </div>
        <div>
            <label for="mobile">Mobile Number:</label>
            <input type="tel" id="mobile" name="mobile" placeholder="Enter your mobile number">
        </div>
        <div>
            <span id="totalPrice" name="totalPrice">Total Price: ₹ 0</span>
        </div>
        <button onclick="buy()">Buy Now</button>
  
   
      </div>
       </form>

    <script>
        function calculateTotal() {
            var selectedWeight = parseFloat(document.getElementById("cakeWeight").value);
            var price = parseFloat(document.getElementById("cakePrice").textContent.replace(/[^\d.]/g, ''));
            var total = selectedWeight * price;
            document.getElementById("totalPrice").textContent = "Total Price: ₹ " + total.toFixed(2);
        }

        function buy() {
            // Logic for purchasing the selected cake
            var name = document.getElementById("name").value;
            var address = document.getElementById("address").value;
            var mobile = document.getElementById("mobile").value;

            // You can perform further validation or processing of the entered details here

            alert("Your order has been placed!\nName: " + name + "\nAddress: " + address + "\nMobile Number: " + mobile);
        }

        // Retrieve parameters from URL
        function getUrlParameter(name) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            var results = regex.exec(location.search);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        }

        // Load selected cake details
        window.onload = function() {
            var imageUrl = getUrlParameter('image');
            var cakeName = getUrlParameter('name');
            var cakePrice = getUrlParameter('price');
            
            document.getElementById("cakeImage").src = "images/special cakes/" + imageUrl;
            document.getElementById("cakeName").textContent = cakeName;
            document.getElementById("cakePrice").textContent = "₹ " + cakePrice;
 calculateTotal();
            // Automatically calculate total when cake weight changes
            document.getElementById("cakeWeight").addEventListener("change", function() {
                calculateTotal();
            });
        };
    </script>
</body>
</html>
